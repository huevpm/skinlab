#! node

/*
 * @Author: sean
 * @Date:   2020-03-11 16:00:07
 * @Last Modified by:   sean
 * @Last Modified time: 2020-05-14 21:37:48
 */
//路径模块
process.env.NODE_ENV = 'production';
process.env.VUE_APP_PREVIEW = 'true'

const webpack = require("webpack");



const config = require("./build/build.js");


const compiler = webpack(config);

compiler.run((err, stats) => {
	console.log("正在打包中")
    if (err) {
        console.error(err.stack || err);
        if (err.details) {
            console.error(err.details);
        }
        return;
    }

    const info = stats.toJson();

    if (stats.hasErrors()) {
        console.error(info.errors);
    }

    if (stats.hasWarnings()) {
        console.warn(info.warnings);
    }
    if (err) {
        console.error(err)
    } else {
        console.log("打包完成")
    }
})