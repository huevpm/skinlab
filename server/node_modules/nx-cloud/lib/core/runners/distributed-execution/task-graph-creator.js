const a15_0x5eff=['addTaskDependencies','roots','strictlyOrderedTargets','tasks','push','defaultTargetDependencies','projectGraph','find','filter','toString','dependencies','length','findTask','__esModule','map','target','createTaskGraphCompat','strip-json-comments','TaskGraphCreator','self','targetDependencies','addDependencies','/nx.json','addTaskToGraph','defineProperty','readFileSync','projects','project','has','build','add','createTaskGraph','../../../utilities/nx-imports-light'];(function(_0x3bcc1d,_0x5eff81){const _0x272060=function(_0x44bb5d){while(--_0x44bb5d){_0x3bcc1d['push'](_0x3bcc1d['shift']());}};_0x272060(++_0x5eff81);}(a15_0x5eff,0x15f));const a15_0x2720=function(_0x3bcc1d,_0x5eff81){_0x3bcc1d=_0x3bcc1d-0x0;let _0x272060=a15_0x5eff[_0x3bcc1d];return _0x272060;};'use strict';Object[a15_0x2720('0x3')](exports,a15_0x2720('0x19'),{'value':!![]});exports['TaskGraphCreator']=exports[a15_0x2720('0x1c')]=void 0x0;const fs_1=require('fs');const stripJsonComments=require(a15_0x2720('0x1d'));const {workspaceRoot}=require(a15_0x2720('0xb'));const {getDependencyConfigs}=require('../../../utilities/nx-imports');function createTaskGraphCompat(_0x419c3b,_0x1d1d08,_0xf5ab1c){const _0x40def2=JSON['parse'](stripJsonComments((0x0,fs_1[a15_0x2720('0x4')])(workspaceRoot+a15_0x2720('0x1'))[a15_0x2720('0x15')]()));return new TaskGraphCreator(_0x1d1d08,getDefaultDependencyConfigs(_0x40def2,_0x419c3b))['createTaskGraph'](_0xf5ab1c);}exports[a15_0x2720('0x1c')]=createTaskGraphCompat;function getDefaultDependencyConfigs(_0x591608,_0xb10a1){var _0x4a42f5,_0x59b31b;const _0x448cda=(_0x4a42f5=_0x591608[a15_0x2720('0x20')])!==null&&_0x4a42f5!==void 0x0?_0x4a42f5:{};const _0x3034e7=_0xb10a1?(_0x59b31b=_0xb10a1[a15_0x2720('0xe')])!==null&&_0x59b31b!==void 0x0?_0x59b31b:[a15_0x2720('0x8')]:[];for(const _0x425fe7 of _0x3034e7){_0x448cda[_0x425fe7]=_0x448cda[_0x425fe7]||[];_0x448cda[_0x425fe7][a15_0x2720('0x10')]({'target':_0x425fe7,'projects':a15_0x2720('0x16')});}return _0x448cda;}class TaskGraphCreator{constructor(_0x3d9593,_0x1db2b1){this[a15_0x2720('0x12')]=_0x3d9593;this[a15_0x2720('0x11')]=_0x1db2b1;}[a15_0x2720('0xa')](_0x6c3566){const _0x572786={'roots':[],'tasks':{},'dependencies':{}};for(const _0x4f7ed0 of _0x6c3566){this[a15_0x2720('0x2')](_0x4f7ed0,_0x572786);const _0x16de35=getDependencyConfigs(_0x4f7ed0['target'],this[a15_0x2720('0x11')],this[a15_0x2720('0x12')]);if(!_0x16de35){continue;}this[a15_0x2720('0xc')](_0x4f7ed0,_0x16de35,_0x6c3566,_0x572786);}_0x572786[a15_0x2720('0xd')]=Object['keys'](_0x572786[a15_0x2720('0x16')])[a15_0x2720('0x14')](_0x2ff21b=>_0x572786['dependencies'][_0x2ff21b][a15_0x2720('0x17')]===0x0);return _0x572786;}['addTaskDependencies'](_0x4728b1,_0x427fc6,_0x32d7bf,_0x1ce448){for(const _0x2520a2 of _0x427fc6){if(_0x2520a2[a15_0x2720('0x5')]===a15_0x2720('0x1f')){for(const _0x1cd8c3 of _0x32d7bf){if(_0x1cd8c3[a15_0x2720('0x1b')][a15_0x2720('0x6')]===_0x4728b1[a15_0x2720('0x1b')][a15_0x2720('0x6')]&&_0x1cd8c3[a15_0x2720('0x1b')][a15_0x2720('0x1b')]===_0x2520a2[a15_0x2720('0x1b')]){_0x1ce448[a15_0x2720('0x16')][_0x4728b1['id']]['push'](_0x1cd8c3['id']);}}}else if(_0x2520a2['projects']===a15_0x2720('0x16')){const _0x1d95d7=new Set();this['addDependencies'](_0x4728b1[a15_0x2720('0x1b')][a15_0x2720('0x6')],_0x2520a2[a15_0x2720('0x1b')],_0x32d7bf,_0x1ce448,_0x4728b1['id'],_0x1d95d7);}}}[a15_0x2720('0x0')](_0x20086e,_0x3b463a,_0x570ba2,_0x552ff0,_0x3662d6,_0x22fd19){_0x22fd19[a15_0x2720('0x9')](_0x20086e);const _0x19a676=this[a15_0x2720('0x12')][a15_0x2720('0x16')][_0x20086e];if(_0x19a676){const _0x398e1e=_0x19a676[a15_0x2720('0x1a')](_0x2ed679=>_0x2ed679[a15_0x2720('0x1b')]);for(const _0x1f27d2 of _0x398e1e){if(_0x22fd19[a15_0x2720('0x7')](_0x1f27d2)){continue;}const _0x219c00=this[a15_0x2720('0x18')]({'project':_0x1f27d2,'target':_0x3b463a},_0x570ba2);if(_0x219c00){if(_0x552ff0[a15_0x2720('0x16')][_0x3662d6]['indexOf'](_0x219c00['id'])===-0x1){_0x552ff0[a15_0x2720('0x16')][_0x3662d6][a15_0x2720('0x10')](_0x219c00['id']);}}else{this[a15_0x2720('0x0')](_0x1f27d2,_0x3b463a,_0x570ba2,_0x552ff0,_0x3662d6,_0x22fd19);}}}}['findTask']({project,target},_0x1f7682){return _0x1f7682[a15_0x2720('0x13')](_0xe9da8c=>_0xe9da8c[a15_0x2720('0x1b')][a15_0x2720('0x6')]===project&&_0xe9da8c['target'][a15_0x2720('0x1b')]===target);}[a15_0x2720('0x2')](_0x1353af,_0x52996b){_0x52996b[a15_0x2720('0xf')][_0x1353af['id']]=_0x1353af;_0x52996b[a15_0x2720('0x16')][_0x1353af['id']]=[];}}exports[a15_0x2720('0x1e')]=TaskGraphCreator;