const a0_0x22d0=['update','remote-cache-hit','readTaskTerminalOutput','push','scheduleTask','createHash','project','digest','../../../utilities/serializer-overrides','Cannot\x20find\x20task\x20','tasks','npm:','updateStartedTask','status','serializeOverrides','statuses','find','getTerminalOutput','target','taskId','runtime','local-cache-hit','task','local-cache','../../terminal-output/read-task-terminal-output','nodes','cache-miss','hashDetails','obfuscate','CloudEnabledLifeCycle','cacheDirectory','__esModule','endCommand','cache','cacheStatus','startsWith','cacheableOperations','hash','params','md5','runContext','collectTerminalOutput','crypto','join','endTime','base64','code','toISOString','length','startTime','outputObfuscator','npmDependencies','remote-cache','defineProperty','cleanUpHashDetails'];(function(_0x39f74b,_0x22d0e4){const _0x12d8b4=function(_0x2239bf){while(--_0x2239bf){_0x39f74b['push'](_0x39f74b['shift']());}};_0x12d8b4(++_0x22d0e4);}(a0_0x22d0,0x157));const a0_0x12d8=function(_0x39f74b,_0x22d0e4){_0x39f74b=_0x39f74b-0x0;let _0x12d8b4=a0_0x22d0[_0x39f74b];return _0x12d8b4;};'use strict';Object[a0_0x12d8('0x28')](exports,a0_0x12d8('0x12'),{'value':!![]});exports[a0_0x12d8('0x10')]=void 0x0;const crypto_1=require(a0_0x12d8('0x1d'));const serializer_overrides_1=require(a0_0x12d8('0x32'));const read_task_terminal_output_1=require(a0_0x12d8('0xb'));class CloudEnabledLifeCycle{constructor(_0x8e8456,_0x1b1405,_0x37c3b3,_0x4db7a2,_0x3d809e,_0x5058db){this[a0_0x12d8('0x1b')]=_0x8e8456;this[a0_0x12d8('0x11')]=_0x1b1405;this[a0_0x12d8('0x1c')]=_0x37c3b3;this[a0_0x12d8('0x17')]=_0x4db7a2;this[a0_0x12d8('0x25')]=_0x3d809e;this['tasks']=_0x5058db;}[a0_0x12d8('0x2e')](_0x541de1){this[a0_0x12d8('0x1b')]['scheduledTasks'][a0_0x12d8('0x2d')](_0x541de1);}['startTask'](_0x1ff2dd){this[a0_0x12d8('0x34')]['push']({'taskId':_0x1ff2dd['id'],'startTime':new Date()[a0_0x12d8('0x22')](),'target':_0x1ff2dd[a0_0x12d8('0x5')]['target'],'projectName':_0x1ff2dd['target'][a0_0x12d8('0x30')],'hash':_0x1ff2dd[a0_0x12d8('0x18')],'hashDetails':this[a0_0x12d8('0x29')](_0x1ff2dd[a0_0x12d8('0xe')]),'params':(0x0,serializer_overrides_1[a0_0x12d8('0x1')])(_0x1ff2dd),'uploadedToStorage':![]});}['endTasks'](_0x29587c){for(let _0x59ae42 of _0x29587c){let _0x1ec076;const _0x25789d=_0x59ae42[a0_0x12d8('0x0')]===a0_0x12d8('0x27');const _0x535be1=_0x59ae42[a0_0x12d8('0x0')]===a0_0x12d8('0x14');const _0x448546=_0x59ae42[a0_0x12d8('0x0')]===a0_0x12d8('0xa')||_0x59ae42[a0_0x12d8('0x0')]==='local-cache-kept-existing'||_0x535be1;if(this[a0_0x12d8('0x1b')]['statuses'][_0x59ae42['task'][a0_0x12d8('0x18')]]){_0x1ec076=this[a0_0x12d8('0x1b')][a0_0x12d8('0x2')][_0x59ae42[a0_0x12d8('0x9')]['hash']];}else if(_0x25789d){_0x1ec076=a0_0x12d8('0x2b');}else if(_0x448546){_0x1ec076=a0_0x12d8('0x8');}else{_0x1ec076=a0_0x12d8('0xd');}this[a0_0x12d8('0x36')](_0x59ae42,_0x1ec076);}}[a0_0x12d8('0x13')](){}[a0_0x12d8('0x36')](_0x6e11e,_0x354c3c){const _0x4cfe87=this[a0_0x12d8('0x34')][a0_0x12d8('0x3')](_0x3b9c9e=>_0x3b9c9e[a0_0x12d8('0x6')]===_0x6e11e[a0_0x12d8('0x9')]['id']);if(!_0x4cfe87){throw new Error(a0_0x12d8('0x33')+_0x6e11e[a0_0x12d8('0x9')]['id']);}if((_0x6e11e===null||_0x6e11e===void 0x0?void 0x0:_0x6e11e[a0_0x12d8('0x24')])&&(_0x6e11e===null||_0x6e11e===void 0x0?void 0x0:_0x6e11e[a0_0x12d8('0x1f')])){_0x4cfe87[a0_0x12d8('0x24')]=new Date(_0x6e11e[a0_0x12d8('0x24')])['toISOString']();_0x4cfe87[a0_0x12d8('0x1f')]=new Date(_0x6e11e[a0_0x12d8('0x1f')])[a0_0x12d8('0x22')]();}else{_0x4cfe87[a0_0x12d8('0x1f')]=new Date()[a0_0x12d8('0x22')]();}_0x4cfe87[a0_0x12d8('0x0')]=_0x6e11e[a0_0x12d8('0x21')];_0x4cfe87[a0_0x12d8('0x19')]=this['outputObfuscator'][a0_0x12d8('0xf')](_0x4cfe87[a0_0x12d8('0x19')]);_0x4cfe87[a0_0x12d8('0x15')]=_0x354c3c;if(this[a0_0x12d8('0x1c')]){_0x4cfe87['terminalOutput']=this[a0_0x12d8('0x4')](_0x6e11e[a0_0x12d8('0x9')][a0_0x12d8('0x18')],_0x4cfe87[a0_0x12d8('0x15')],_0x6e11e['code']);}}['getTerminalOutput'](_0x25dea4,_0x3c7b28,_0x3f1134){return(0x0,read_task_terminal_output_1[a0_0x12d8('0x2c')])(this[a0_0x12d8('0x11')],this[a0_0x12d8('0x25')],_0x25dea4,_0x3c7b28,_0x3f1134);}[a0_0x12d8('0x29')](_0x5d4330){const _0x4ae62d={};const _0x5392bb=[];for(const _0x2901c9 of Object['keys'](_0x5d4330[a0_0x12d8('0xc')])){if(_0x2901c9[a0_0x12d8('0x16')](a0_0x12d8('0x35'))){_0x5392bb[a0_0x12d8('0x2d')](_0x5d4330[a0_0x12d8('0xc')][_0x2901c9]);}else{_0x4ae62d[_0x2901c9]=_0x5d4330['nodes'][_0x2901c9];}}_0x5392bb['sort']();if(_0x5392bb[a0_0x12d8('0x23')]>0x0){const _0x586093=(0x0,crypto_1[a0_0x12d8('0x2f')])(a0_0x12d8('0x1a'));_0x586093[a0_0x12d8('0x2a')](_0x5392bb[a0_0x12d8('0x1e')]('|'));_0x4ae62d[a0_0x12d8('0x26')]=_0x586093[a0_0x12d8('0x31')](a0_0x12d8('0x20'));}return{'nodes':_0x4ae62d,'runtime':_0x5d4330[a0_0x12d8('0x7')],'implicitDeps':_0x5d4330['implicitDeps']};}}exports['CloudEnabledLifeCycle']=CloudEnabledLifeCycle;